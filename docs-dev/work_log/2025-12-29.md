# 作業ログ 2025-12-29

## 広告バナー機能の導入

### 概要
プライベートリポジトリ`neuvecom-common`をサブモジュールとして追加し、広告バナー機能を導入した。

### 実施内容

#### 1. サブモジュールの追加
- `neuvecom-common`を`docs/common/`に追加
- GitHub Actionsでプライベートサブモジュールを取得するため`SUBMODULE_PAT`シークレットを使用

#### 2. 広告設定ファイルの作成
- `docs/data/affiliates.yaml`を作成
- headerセクションに468x60サイズのバナー広告4種を設定
  - エイジレスエージェント (pid: 892366033)
  - LENOVO (pid: 892366073)
  - フロンティア (pid: 892366079)
  - TechClipsエージェント (pid: 892379614)
- SID: 3757792

#### 3. HTMLの修正 (docs/index.html)
- affiliate.css、fallback.cssの読み込み追加
- ヘッダー下に広告バナーエリア追加
- affiliate-lite.js、adblock-detector.jsの読み込み追加
- 広告バナーマネージャーの初期化コード追加
  - storageKeyPrefix: `vscode-finder-service`
  - fallbackImagesPath: `img/`

#### 4. CSSの修正 (docs/style.css)
- `.sponsor-section`スタイル追加

#### 5. フォールバック用画像
- `docs/img/`に広告ブロック時のフォールバック画像4枚をコピー

#### 6. GitHub Actionsワークフロー
- `.github/workflows/deploy.yml`を作成
- プライベートサブモジュール対応
- deploy from a branch → GitHub Actionsへの切り替え

### 修正対応

#### パス修正
- 絶対パス(`/data/`, `/img/`)を相対パス(`data/`, `img/`)に変更
- GitHub Pagesのサブパスで正しく動作するよう対応

#### 広告ブロッカー対策
- クラス名に`ad-`を含むとブロックされる問題に対応
- `ad-banner-section` → `sponsor-section`
- `header-ad-container` → `header-banner`

### コミット履歴
1. `[feat] 広告バナー機能を導入`
2. `[fix] 広告設定のパスを相対パスに修正`
3. `[fix] 広告ブロッカー対策でクラス名を変更`

### 手動作業（完了済み）
- GitHub Pages設定をdeploy from a branch → GitHub Actionsに変更
- SUBMODULE_PATシークレットの設定
